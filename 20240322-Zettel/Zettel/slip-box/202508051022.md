#forense #informatica

### **Fonte 1: "curso-230995-aula-00-a89e-completo.pdf"**

- **Crimes Virtuais (Crimes Eletrônicos):**
    - A coleta e análise de vestígios para a geração de evidências são fundamentais na computação forense.
    - Na era atual, a informação tem valor superior a bens materiais, e a criminalidade migrou do mundo real para o virtual, necessitando de mudanças na legislação para punir criminosos.
- **Prova Pericial:**
    - Considerada a **"rainha das provas"** em crimes eletrônicos, tendo maior "peso" que documentos e testemunhas.
    - Pode ser solicitada por qualquer parte ou pelo magistrado.
    - Devido à **volatilidade** do ambiente computacional, quando a perícia no dispositivo não é possível, a prova documental (e.g., atas notariais com capturas de tela) pode ser usada.
- **Lei "Carolina Dieckmann" (Lei 12.737/12):**
    - Tipifica delitos informáticos, adicionando artigos 154-A e 154-B, e alterando os artigos 266 e 298 do Código Penal.
    - O **Art. 154-A** trata da invasão de dispositivo informático com o fim de obter, adulterar ou destruir dados ou informações. "Obter" inclui apenas ler dados, "adulterar" é modificação intencional (ou acidental), e "destruir" pode ser exclusão (recuperável) ou _wipe_ (técnica antiforense).
    - O **Art. 298** (Falsificação de Cartão) teve o parágrafo único adicionado, equiparando cartões de crédito/débito a documentos particulares, tornando a clonagem um crime.
    - A ação penal para a invasão (Art. 154-A) **procede mediante representação**, exceto se o crime for contra a administração pública ou concessionárias de serviços públicos.
- **Engenharia Social e Phishing:**
    - **Engenharia Social** é uma técnica criminosa que explora diretamente a **cultura dos usuários**.
    - **Phishing** (ou _phishing scam_) é um termo usado para o mesmo propósito da engenharia social, frequentemente associado a golpes financeiros (e.g., e-mails falsos de bancos solicitando dados).
    - **Spear Phishing** é direcionado a um grupo específico de pessoas com alguma afinidade, tornando o ataque mais eficaz.
    - Golpes de phishing podem induzir a fornecer dados pessoais/financeiros via páginas falsas ou instalação de códigos maliciosos.
- **Ferramentas e Ataques:**
    - **Sniffer** (e.g., tcpdump, Wireshark) é uma ferramenta poderosa para gerenciar redes, atuando de forma passiva para capturar pacotes de dados. Para funcionar adequadamente, a interface de rede deve operar em **modo promíscuo**. Permite visualizar dados não criptografados, como usuário e senha em FTP.
    - **DoS (Negação de Serviço)** é um ataque que visa ampliar o número de acessos para que o sistema alvo não suporte o processamento, muitas vezes por _flooding_.
    - **Botnet** é um tipo de ataque que compreende a ação de uma rede de computadores controlados (bots) para enviar constantemente pacotes de dados a um servidor, muitas vezes para DoS. Uma botnet com **controle centralizado** é mais simples, mas tem **ponto único de falha**; uma com **controle descentralizado** é mais difícil de implementar, mas mais **robusta**.
- **Prevenção contra Malware:**
    - Evitar abertura automática de anexos de e-mails e usar antivírus ativo.
    - Desabilitar macros se não forem necessárias.
    - Procurar softwares de fontes confiáveis e verificar com múltiplos antivírus antes de executar.
    - Não permitir mídias removíveis desconhecidas infectadas.
    - Softwares antimalware devem ter suas bases de assinatura constantemente atualizadas.

### **Fonte 2: "curso-230995-aula-01-0efa-completo.pdf"**

- **Investigação Digital:**
    - É essencial conhecer redes (endereçamento IP, DNS, NAT), provedores de acesso à Internet (ISP), rastreamento de e-mail e coleta de informações com validade jurídica.
- **DNS (Domain Name System):**
    - Responsável pela resolução de nomes (tradução de nomes de domínio para endereços IP).
    - **Tipos de Consultas:**
        - **Recursiva:** O resolvedor envia a consulta e recebe a resposta final.
        - **Iterativa:** A resposta pode ser parcial, exigindo que o solicitante encaminhe novas requisições a outros servidores.
    - Servidores DNS usam **cache** para respostas imediatas.
    - **Registros de Recursos (RRs):** Composto por campos como _Nome_, _Tempo de Vida (TTL)_, _Classe_, _Tipo_ e _Valor_.
        - Tipos importantes incluem: **SOA** (Start of Authority - parâmetros da zona), **A** (endereço IPv4), **AAAA** (endereço IPv6), **MX** (Mail Exchange - para troca de e-mails), **CNAME** (nome canônico/apelido), **PTR** (ponteiro para DNS reverso) e **SPF**.
    - **Respostas Autoritativas vs. Não-Autoritativas:** Resposta autoritativa de um servidor garante que a informação está atualizada, enquanto a não-autoritativa (ex: de cache) pode estar desatualizada.
    - **Protocolos:** **UDP** é usado para consultas DNS (mais leve, grande volume), e **TCP** para atualizações entre servidores DNS (menos frequentes, perda não aceitável).
- **Rastreamento de E-mail:**
    - As informações cruciais para investigação estão no **cabeçalho do e-mail** (endereço IP de origem, caminho percorrido). A RFC 2821 descreve os campos do cabeçalho SMTP.
- **Coleta de Informações com Validade Jurídica:**
    - Um simples _print screen_ não tem validade jurídica; o ideal é uma **Ata Notarial**, onde o tabelião narra o que verificou.
    - A aplicação de **hash** na frente do tabelião garante a integridade do material para análises futuras.
- **WHOIS:**
    - Uma base de dados que contém informações de contato (técnico, administrativo, cobrança) dos responsáveis por domínios ou blocos de endereços IP.
    - Para IPs alocados no Brasil, pode-se consultar o servidor em `http://registro.br/cgi-bin/whois/`.
- **Marco Civil da Internet:**
    - O prazo para a guarda dos **registros de conexão é de 1 ano**, e os **registros de serviços de aplicações Internet é de 6 meses**.
- **Lei de Acesso à Informação (LAI) - Lei 12.527/2011:** Garante o direito de solicitar e receber informações públicas.
- **Pen Test (Teste de Invasão):**
    - Ferramenta de auditoria de vulnerabilidades, pode ser **intrusivo** (com autorização prévia).
    - A busca de informações sobre o "alvo", incluindo consultas WHOIS e DNS, é útil em um pentest.
    - **Engenharia social** e segurança física podem fazer parte do pentest.

### **Fonte 3: "curso-230995-aula-02-f7fe-completo.pdf"**

- **Conceitos de Computação Forense:**
    - Conhecida também como forense computacional, forense digital ou perícia digital.
    - É um conjunto de metodologias, técnicas, procedimentos e exames para a **busca da prova técnica**.
    - A **integridade das provas obtidas** é vital, geralmente garantida por algoritmos de _hash_, para evitar que laudos sejam descartados.
    - A **cadeia de custódia** deve ser estabelecida e mantida para rastrear a posse e manuseio da evidência. Todos os procedimentos devem ser documentados para permitir reprodução futura.
- **Mandado Judicial de Busca e Apreensão:**
    - É necessário no âmbito criminal e cível (para ações indenizatórias).
    - Deve indicar precisamente a casa ou pessoa, o motivo e os fins da diligência, e ser assinado pelo juiz e subscrito pelo escrivão.
    - Geralmente é executado durante o dia; se o morador se recusar a abrir, a força pode ser usada.
- **O Perito Digital:**
    - Não precisa ser necessariamente um perito criminal oficial nem ter formação específica (embora recomendado), mas deve ter conhecimento base em informática e específico em perícia.
    - O CPP permite que, na falta de perito oficial, o exame seja realizado por duas pessoas idôneas com diploma de curso superior, preferencialmente na área específica.
    - Partes (acusação ou defesa) podem indicar um **Assistente Técnico** para acompanhar a perícia oficial e elaborar quesitos.
- **Solicitação de Perícia:**
    - Deve ser feita por **ofício com quesitos objetivos**.
    - Incluir cópia da ocorrência, inquérito policial e histórico do caso.
    - Evitar quesitos genéricos, subjetivos ou redundantes (e.g., "qual o conteúdo do disco rígido?", "imprimir todo o conteúdo", "quais os principais softwares?").
- **Metodologias de Análise:**
    - **Post Mortem Forensics:** Análise em equipamentos **desligados**, focada nos dados armazenados.
    - **Live Forensics:** Análise em equipamentos **ligados** (em uso), permitindo a coleta de **dados voláteis** (e.g., _dump_ da memória RAM, processos em execução, arquivos abertos). Recomendado em casos de flagrante ou criptografia no HD.
    - **Ordem de Volatilidade (RFC 3227):** Guias para coleta de evidências do mais volátil para o menos (registradores, cache, RAM, sistemas de arquivo temporários, disco, logs, configuração física, mídias de backup).
    - Para evitar a destruição de evidências, recomenda-se não desligar o equipamento até a coleta, não confiar nos softwares do sistema, e não executar softwares que modifiquem datas/horas de acesso.
- **MAC Times (Modification, Access, Creation):** São as datas/horas de criação, modificação e último acesso de arquivos, úteis para criar linhas do tempo forenses e confrontar depoimentos.
- **Cadeia de Custódia:**
    - Conjunto de procedimentos para **manter e documentar a história cronológica do vestígio** desde o reconhecimento até o descarte, rastreando posse e manuseio.
    - Envolve registro formal de toda movimentação, formulários, sacos lacrados e rubricas dos responsáveis.
    - A **Portaria nº 82/2014 da SENASP** denomina a cadeia de custódia e institui a **Central de Custódia** para guarda e controle dos vestígios.
    - A quebra da cadeia de custódia pode levar o juiz a **afastar as provas**.
- **Etapas da Computação Forense (Dalla Vecchia):** Identificação, Coleta, Exame, Análise, Resultados.
    - **Identificação:** Verificar dispositivos úteis na cena do crime, anotar data/hora do equipamento.
    - **Coleta:** Apreensão física (fotografar, identificar, embalar, lacrar) e **cópia bit a bit (espelhamento ou _raw copy_)** dos dados. A mídia questionada deve ser protegida contra gravação (hardware ou software). A ferramenta **dd** é usada para criar imagens forenses.
    - **Exame:** Aplicar filtros (tipos, tamanhos, datas), busca por expressões, gerar linha do tempo, recuperar dados excluídos. Softwares como **Encase** e **Autopsy** são usados.
    - **Análise:** Etapa manual para verificar se os resultados do exame são evidências reais. Pode levar a novas buscas.
    - **Resultados:** Descrição em **Laudo Pericial**.
- **Procedimento Operacional Padrão (POP) SENASP para Mídias de Armazenamento:**
    - Recomenda que o **exame seja realizado sobre a cópia** e não na mídia original.
    - A duplicação pode ser por equipamento forense ou microcomputador (com bloqueadores de escrita).
    - O **Laudo Pericial deve ter mídias anexas** (CD, DVD) para grande volume de dados, e a integridade é garantida por **hash (SHA-512)** do conteúdo, com o "hash dos hashes" impresso no laudo.

### **Fonte 4: "curso-230995-aula-03-3c18-completo.pdf"**

- **Metodologia Post Mortem Forensics:**
    - Foco em equipamentos desligados, analisando apenas dados armazenados.
    - As etapas principais são: **Coleta**, **Exame**, **Análise** e **Resultados/Registro**.
- **Proteção da Mídia (Contra Gravação):**
    - É um passo crucial **antes de realizar a duplicação forense**.
    - Pode ser feita por **hardware** (e.g., Tableau Forensic Bridge) ou **software** (e.g., _flag_ no Registro do Windows, ferramentas como Thumbscrew, ou distribuições Linux forenses como CAINE que montam mídias como somente leitura).
- **Duplicação Forense (Cópia Bit a Bit):**
    - Gera uma **imagem** que contém todos os bits da mídia original, incluindo dados regulares, arquivos apagados, fragmentos remanescentes e dados fora das partições.
    - Pode ser **disco para disco** ou gerar um **arquivo-imagem**.
    - Ferramentas comuns incluem **dd**, **dcfldd** (com barra de progresso), e **FTK Imager** (com interface gráfica e cálculo de hash).
    - O comando `dd` é utilizado com parâmetros `if` (origem), `of` (destino), `bs` (tamanho do bloco) e `count` (número de blocos).
    - Uma imagem _raw_ (crua) gerada terá **exatamente o mesmo tamanho** da mídia original. Softwares como FTK Imager podem gerar imagens compactadas ou fragmentadas.
- **Verificação de Integridade:**
    - Essencial para garantir que os dados não foram alterados.
    - É realizada através de **algoritmos de hash** (funções de resumo criptográfico) que produzem um resultado único e de **tamanho fixo**, independentemente do tamanho da entrada.
    - Algoritmos notáveis: **MD5** (128 bits), **SHA-1** (160 bits), **SHA-256** (256 bits), **SHA-512** (512 bits). MD5 e SHA-1 são considerados inseguros para algumas aplicações.
    - Usados para verificar se um arquivo foi alterado (se o hash mudar, a integridade foi violada).
    - Ferramentas: `md5sum`, `sha1sum` (Linux), HashMyFiles (Windows).
    - O hash pode ser usado também para gerar **assinaturas digitais**.
- **Exame dos Dados (da Imagem):**
    - Envolve aplicar filtros (palavras-chave, tipos de arquivo, tamanhos, datas, dados excluídos) na imagem gerada.
    - A montagem da imagem pode ser feita com `mount -o ro` (somente leitura) no Linux para evitar alterações.
    - Softwares: **Encase** e **Autopsy** são ferramentas completas com diversos filtros.
- **Análise das Informações:**
    - Etapa mais **manual**, onde o perito avalia se os resultados do exame são evidências úteis para a perícia.
    - Pode levar a **novos exames** (retorno à fase de exame).
    - Peritos podem encontrar conteúdo **criptografado** (arquivos, partições, _containers_ com senhas) ou em **formatos desconhecidos**.

### **Fonte 5: "curso-230995-aula-04-3b89-completo.pdf"**

- **Live Forensics:**
    - Metodologia usada quando o equipamento está **ligado**, permitindo a coleta de **dados voláteis**.
    - Pode coletar dados que seriam inacessíveis se o equipamento fosse desligado (e.g., partições criptografadas abertas, conversas em aplicativos de bate-papo sem log).
    - **Ordem Decrescente de Volatilidade (RFC 3227):** Registradores, cache; tabela de roteamento, cache ARP, tabela de processos, estatísticas do kernel; memória RAM; arquivos temporários; discos; logs remotos; configuração física, topologia da rede; mídias de armazenamento.
- **Passos Fundamentais na Análise Live:**
    1. Identificar o **grau de volatilidade** da evidência.
    2. Identificar e **coletar dados úteis** (e.g., telas abertas, processos em execução, conexões de rede, arquivos abertos, data/hora da máquina, usuários logados).
    3. **Copiar os dados voláteis de forma integral** (_dump_ da memória RAM), verificando a integridade da imagem extraída.
- **Procedimentos e Boas Práticas:**
    - Todos os procedimentos devem ser **registrados** (anotações, fotografias, filmagens). Fotografar telas abertas é importante, pois o equipamento pode travar.
    - É crucial usar um conjunto de **ferramentas próprias, testadas e homologadas**, que não alterem o sistema nativo nem os dados voláteis. Não usar ferramentas do sistema do suspeito.
    - O **computador nunca deve ser desligado** até que a extração e verificação de integridade dos dados sejam concluídas.
- **Coleta de Dados em Live Forensics:**
    - Um perito pode coletar **tanto dados voláteis quanto dados armazenados em mídias** (não voláteis).
    - **Ferramentas de Coleta Específica:**
        - **Sysinternals Suite** (Process Explorer, Listdlls).
        - **Nirsoft Utilities** (SearchMyFiles, Opened Files View, BrowsingHistoryView, LastActivityView, USBDeview).
    - **Dump de Memória:** Uma cópia _bit a bit_ da memória RAM. Permite identificar processos em execução, arquivos abertos, bibliotecas, chaves de registro, _sockets_ em uso, usuários logados.
- **Verificação de Integridade do Dump:**
    - Não faz sentido verificar a integridade da origem (RAM) porque ela é alterada durante a cópia.
    - É **extremamente importante** aplicar um algoritmo de **hash na imagem gerada** (_dump_) assim que for concluído.
- **Exame dos Dados (do Dump):**
    - A aplicação de filtros em uma imagem _raw_ de memória é mais difícil que em mídias de armazenamento.
    - **Volatility** é um _framework_ específico para o exame de _dumps_ de memória. Ele pode extrair informações como conexões TCP (`connscan`), lista de processos (`pstree`), e sessões de _logon_ (`sessions`).
    - **FTK Imager** também permite busca por palavras-chave em _dumps_ de memória.
- **Hierarquia de Memória e Volatilidade:**
    - A memória mais rápida (menor tempo de acesso) é o **Registrador**, seguida pela **Memória Cache** (SRAM), **Memória RAM** (Memória Principal/DRAM), **Memória Flash**, e **Disco Rígido**.
    - Memórias **RAM, SRAM, Cache, DRAM são voláteis** (perdem dados sem energia).
    - Memórias **ROM e EPROM são não voláteis**. Discos rígidos (HDD/SSD) são não voláteis.

### **Fonte 6: "curso-230995-aula-05-a4a1-completo.pdf"**

- **Sistemas de Arquivos:**
    - Responsáveis por como os arquivos são nomeados, armazenados e organizados em uma partição.
    - Definem a localização física dos blocos de um arquivo/diretório e seus atributos (nome, proprietário, datas).
- **Métodos de Acesso a Arquivos:** Sequencial, Acesso Direto, Acesso Direto + Sequencial, Acesso Indexado/Por Chave.
- **Representação de Dados:**
    - A menor unidade é o bit, agrupado em bytes.
    - **Hexadecimal** é uma representação numérica de base 16, usando dígitos de 0-9 e letras A-F.
    - A **camada de apresentação** do modelo OSI é adequada para converter dados entre diferentes estruturas de codificação numérica (little-endian ou big-endian).
- **Mídias de Armazenamento (HDDs):**
    - Um disco rígido (HDD) contém pratos, cabeças de leitura/gravação e um braço que as movimenta.
    - A **formatação física** divide o disco em **trilhas, setores e cilindros**. Um **setor** é a menor unidade de armazenamento física (geralmente 512 bytes).
    - Setores defeituosos são chamados de **Badblocks**.
- **SSDs (Solid State Drive):**
    - Utilizam memória flash, não possuem partes mecânicas, o que lhes confere **desempenho muito superior** ao HDD.
    - São aconselháveis como unidade de inicialização para o sistema operacional e aplicativos.
- **Particionamento:** Divide o dispositivo em áreas lógicas, cada uma com seu próprio sistema de arquivos.
- **Sistemas de Arquivos Específicos:**
    - **FAT (File Allocation Table):** Não possui mecanismos para evitar a fragmentação, gravando arquivos no primeiro local livre. Não possui atributos relacionados à **segurança** (permissões).
    - **NTFS (New Technology File System):** Oferece maior **confiabilidade e segurança**, incluindo **controle de acesso a arquivos (permissões)**. Sua estrutura de dados chave é a **MFT (Master File Table)**, que registra informações de todos os arquivos, incluindo ela própria. As permissões NTFS são **cumulativas**, e a permissão **"negar" tem prioridade** sobre qualquer outra.
    - **EXT (Extended File System - Linux):** Metadados são armazenados em **nó-i (inode)**. O **Superbloco** contém informações básicas da partição.
        - **EXT3:** Utiliza o recurso de **journaling** (diário) para permitir reparo rápido do sistema de arquivos após um desligamento incorreto. Possui três modos de operação: **ordered** (default), **writeback** (armazena metadados do journal), e **journal** (mais seguro, armazena informações e cópias de segurança de arquivos modificados, mas é mais lento).
        - **EXT4:** Suporta arquivos com mais de 2 TiB.
    - **Btrfs:** Sistema de arquivos para Linux projetado para lidar com grandes volumes de dados, _snapshots_, _checksums_ e múltiplos volumes. Tem um limite de tamanho de arquivo de 16 EiB.

### **Fonte 7: "curso-230995-aula-06-78e2-completo.pdf"**

- **Recuperação de Dados Excluídos:**
    - É uma atividade frequente do perito digital, possibilitando a recuperação tanto de **fragmentos quanto de arquivos completos**.
    - A recuperação se concentra em dados que ainda não foram sobrescritos.
- **Ferramentas de Recuperação:**
    - **foremost:** Ferramenta de modo texto para recuperação de arquivos a partir de imagens de discos (_raw_).
    - **TESTDISK:** Software para recuperar partições perdidas.
    - **Recuva:** Software para recuperação de dados após exclusão acidental, esvaziamento da lixeira ou formatação.
- **Carving (Recuperação Bruta):**
    - Termo para a recuperação de dados em formato _raw_ (cru), análogo a uma escultura de material bruto.
    - É a extração de dados excluídos de uma imagem _raw_, remontando arquivos ou fragmentos, **sem depender de índices de sistemas de arquivos**.
    - **Tipos de Carving:**
        - **Baseado em Cabeçalho/Rodapé:** Busca sequências conhecidas de início (cabeçalho) e fim (rodapé) de arquivos (ex: `\xff\xd8\xff\xe0\x00\x10` para JPEG).
            - **Problemas:** Pode gerar falsos positivos (arquivos imensos), truncamento, não lida com fragmentação, e alguns arquivos não possuem cabeçalhos/rodapés fixos. Se não há rodapé fixo, o _carving_ pode ir até um tamanho definido (configurado no `foremost.conf`).
        - **Baseado em Blocos de Conteúdo:** Utiliza o conceito de **entropia** (nível de aleatoriedade) dos dados. Uma mudança brusca na entropia de um bloco pode indicar que ele não faz parte do arquivo.
        - **Com Validação:** Arquivos recuperados são verificados através de validadores de tipo de arquivo.
- **Recuperação Baseada em Sistema de Arquivos:**
    - Ao contrário do _carving_, esta técnica possibilita a recuperação de **metadados** (e.g., nome original do arquivo) além do conteúdo, analisando as estruturas do sistema de arquivos (se não tiverem sido sobrescritas).
- **Boas Práticas para Data Carving:**
    - O _data carving_ (e qualquer exame forense) deve ser aplicado na **imagem bruta** gerada da mídia questionada, e **não diretamente na mídia original**.

### **Fonte 8: "curso-230995-aula-07-3532-completo.pdf"**

- **Quebra de Senhas:**
    - Antes de tentar a recuperação, é importante **detectar se o conteúdo está criptografado**.
    - Formas comuns de criptografia em mídias: total da mídia, parcial/contêineres, ou de arquivos/pastas. Identificadores de softwares de criptografia (PGP, BitLocker, SafeBoot) podem ser úteis.
    - Mídias podem estar protegidas por **senhas de hardware** ou circuitos proprietários.
- **Tipos de Ataques para Descoberta/Quebra de Senhas:**
    - **Recuperação Direta:** Baseada em falhas conhecidas do algoritmo ou aplicativo, como senhas armazenadas em codificações simples no Registro do Windows ou em arquivos.
    - **Ataque do Dicionário:** Utiliza uma lista de palavras (dicionário) para tentar descobrir a senha. Dicionários podem incluir palavras conhecidas, senhas comuns, e variações baseadas no perfil do suspeito (capitalização, substituição de caracteres, adição, concatenação, inversão). Ferramentas como Crunch Wordlist Generator podem criar dicionários.
    - **Força Bruta (Incremental):** Tenta **cada caractere possível** até encontrar a senha correta. É o modo mais robusto, mas também o mais demorado. Em média, **metade das chaves possíveis** deve ser tentada para sucesso.
    - **Pré-Computado (Rainbow Tables):** Usado quando o **hash da senha é armazenado** (e não a senha em texto claro). Tabelas com _hashes_ pré-computados e suas senhas correspondentes são usadas para uma busca mais rápida.
- **Criptoanálise:**
    - Ramo que estuda formas de decodificar mensagens ou descobrir a lógica usada sem conhecer a chave. É mais fácil em cifras baseadas em substituição/troca, como a Cifra de César, devido à análise de frequência de caracteres.
- **Qualidade da Senha (NBR ISO/IEC 27002:2005):**
    - Recomenda senhas fáceis de lembrar, mas não vulneráveis a ataques de dicionário e isentas de caracteres idênticos consecutivos.
- **Hash e Assinatura Digital:**
    - Um **hash** é o resultado de uma função de resumo criptográfico que pode ser usado para gerar assinaturas digitais.
    - A **assinatura digital** envolve a geração de um resumo criptográfico (hash) do documento e a cifragem desse resumo com a **chave privada do emissor**. Isso é mais rápido do que cifrar o documento inteiro.
    - Algoritmos **MD5 e SHA-1** são considerados **inseguros** para certas aplicações atualmente.

### **Fonte 9: "curso-230995-aula-08-3aaf-completo.pdf"**

- **Análise de Sistemas Windows:**
    - É o sistema operacional mais comum para análises periciais devido à sua vasta utilização.
- **Registro do Windows (Registry):**
    - É uma **base de dados hierárquica** que centraliza informações de configuração de hardware, software, e preferências de usuários.
    - Consiste em **"hives"** (colmeias) armazenados em **diferentes arquivos binários** (e.g., SYSTEM, SAM, SECURITY em `\Windows\System32\Config`).
    - Pode-se restringir o acesso a chaves e subchaves para aumentar a segurança.
    - Contém informações úteis para investigação, como dados do **último logon**, última alteração de senha, digitações incorretas.
    - Chaves importantes: `HKEY_CURRENT_CONFIG` (perfil de hardware), `HKEY_CURRENT_USER` (perfil do usuário logado), `HKEY_LOCAL_MACHINE` (configurações específicas do computador).
- **Eventos (Event Logs):**
    - Sistema de armazenamento de logs que registra uma série de ações, como logon/logoff de usuários, tentativas de acesso a pastas sem permissão, instalações/remoções de software.
    - Logs do Windows incluem: Aplicativo, Segurança, Sistema, Instalação e Eventos Encaminhados (a partir do Windows Server 2008).
    - Os arquivos de log têm extensões `.EVT` ou `.EVTX`.
- **Lixeira (Recycle Bin):**
    - Serve para **armazenar temporariamente arquivos excluídos**, oferecendo uma "segunda chance" de recuperação.
    - Quando um arquivo é restaurado da lixeira, ele retorna para sua **pasta de origem**.
    - Arquivos excluídos com **SHIFT + DEL** não vão para a lixeira e são removidos imediatamente. No entanto, mesmo nesse caso, a recuperação com técnicas forenses ainda é possível.
    - A exclusão de um atalho afeta apenas o arquivo do atalho, não o arquivo original que ele referencia.
    - A pasta da lixeira e o arquivo de metadados (`$I` ou `INFO2`) variam conforme a versão do Windows, contendo informações sobre o nome original, pasta, tamanho e data/hora da exclusão.
- **Prefetch (Pré-Carregamento):**
    - Funcionalidade do Windows (a partir do XP) que armazena estatísticas de uso para **acelerar o carregamento de softwares** utilizados com frequência.
    - Os arquivos Prefetch (`.PF`) estão localizados em `C:\Windows\Prefetch`.
    - Contêm informações como nome do executável, DLLs utilizadas, quantidade de execuções, e data/hora da última execução.
    - É uma **excelente fonte de informações para análise forense**, permitindo verificar softwares desinstalados, malwares executados e suas dependências.

### **Fonte 10: "curso-230995-aula-09-44a6-completo.pdf"**

- **Análise em Dispositivos Móveis:**
    - Atualmente, há uma **grande demanda** para a análise forense de dispositivos móveis, especialmente _smartphones_, que são considerados computadores de mão.
- **Cartão SIM (Chip):**
    - É um _smart card_ que armazena informações do assinante, agenda, configurações, mensagens, e últimas ligações.
    - O usuário pode optar por armazenar contatos e outras informações na memória interna do aparelho.
- **Coleta de Dados em Dispositivos Móveis:**
    - Diferente de outras mídias, a coleta em dispositivos móveis tem peculiaridades devido à diversidade de aparelhos, sistemas operacionais e sistemas de arquivos (muitos proprietários).
    - Em situações ideais, busca-se uma **cópia _bit a bit_ da memória interna**. Em outros casos, apenas **cópias lógicas** são possíveis. No pior cenário, a coleta é **manual**, direto no dispositivo.
    - Recomenda-se realizar **todas as formas de extração possíveis** e comparar os dados para não perder informações.
    - Quando ferramentas forenses não suportam um aparelho, o perito pode usar cartões de memória sanitizados e/ou cartões SIM virgens se necessário para a extração.
    - **Coleta Automática:** Ocorre com cabos e software específico para capturar dados, podendo incluir filtros ou cópia _bit a bit_. Softwares de fabricantes (e.g., Samsung, Nokia) geralmente servem para _backup_, não extração total para perícia.
    - **Coleta Manual:** Consiste em analisar diretamente no dispositivo (anotar, fotografar, filmar). É crucial ter cuidado para não alterar ou excluir dados acidentalmente. Ferramentas como "Project-A-Phone ICD-8000" auxiliam na fotografia de telas.
- **Análise das Informações (Dispositivos Móveis):**
    - Pode ser feita diretamente a partir de **relatórios gerados automaticamente** por ferramentas de extração (e.g., UFED Physical Analyzer da Cellebrite).
    - **Whatsapp:** Diálogos são frequentemente armazenados em `Whatsapp/Databases` em arquivos **CRYPTX** (criptografados) e, se decifrados, podem ser analisados como bases de dados SQLite.

### **Fonte 11: "curso-230995-aula-10-6a71-completo.pdf"**

- **Network Forensics:**
    - Metodologia que envolve **análise de tráfego de rede e logs**.
    - Pacotes podem ser adquiridos via **sniffer** e analisados com filtros.
    - Conhecimento de **protocolos e equipamentos de rede** é fundamental.
- **Fontes de Vestígios Cibernéticos:**
    - **Tráfego de Rede:** Análise para determinar protocolos em uso, localização de ataques, captação de mensagens.
    - **Switches:** Mapeiam endereços MAC para portas (tabela CAM). A **tabela CAM** é um vestígio importante, mas **volátil** (informações perdidas ao reiniciar o equipamento).
    - **Roteadores:** A **tabela de roteamento** é o vestígio mais importante, permitindo verificar o caminho do tráfego.
    - **Servidores de Autenticação (LDAP, Active Directory):** Fontes de logs importantes (data/hora de autenticação, IP de origem, tentativas de conexão sem sucesso).
    - **Outras Fontes:** IDS/IPS, servidores DNS, firewalls, servidores de aplicação.
- **Captura e Análise de Tráfego:**
    - Um "grampo digital" requer **mandado judicial** para que o provedor de acesso replique os pacotes do suspeito para a polícia.
    - O formato **PCAP (Packet Capture Data)** é um dos mais conhecidos para salvar pacotes capturados.
    - O procedimento de coleta deve ser **documentado**, e **hashes** devem ser gerados para garantir a integridade dos arquivos.
    - A análise pode ser feita com filtros (palavras-chave, protocolos, endereços IP).
    - **Ferramentas:** **Wireshark** e **Xplico** (framework) para análise. **tcpdump** para captura e logs.
- **Protocolo TCP:**
    - Um dos mais cobrados em análises de tráfego.
    - O segmento TCP inclui: **Número de Sequência**, **Número de Confirmação (ACK)** (cumulativo), **Tamanho do Cabeçalho** (variável de 20 a 40 bytes), e **Flags** (URG, ACK, PSH, RST, SYN, FIN).
    - A flag **SYN** indica uma tentativa de conexão; **FIN** é para encerrar.
    - O **Checksum** no TCP é **obrigatório** (cabeçalho, dados e pseudo-cabeçalho IP).
    - Mesmo em tráfego criptografado (e.g., HTTPS), os **cabeçalhos TCP/IP permanecem visíveis** para análise.
- **Portas de Serviço Comuns:**
    - **FTP:** TCP/21 (controle) e TCP/20 (dados).
    - **DNS:** UDP/53 (consultas).
    - **POP3:** TCP/110.
    - **IMAP:** TCP/143.
    - **HTTP:** TCP/80.
    - **Telnet:** TCP/23 (transmite texto em claro).

### **Fonte 12: "curso-230995-aula-11-247f-completo.pdf"**

- **Análise de Malware:**
    - Um _malware_ é um _software_ com intenções maliciosas.
    - A **engenharia reversa** e a **análise de entropia** são cruciais para entender como funcionam.
- **Entropia:**
    - Mede o grau de **desordem ou aleatoriedade** dos dados.
    - **Dados cifrados (criptografados) possuem alta entropia**. Arquivos de texto têm baixa entropia.
    - Softwares forenses (e.g., Autopsy) podem usar filtros de entropia para identificar dados cifrados.
- **Engenharia Reversa:**
    - Processo de obter detalhes de como um produto foi feito, "voltando" etapas (e.g., de código binário para código de alto nível).
    - Utilizada para **auditar programas** (segurança, vulnerabilidades) e **analisar malwares** (extrair documentação, checar códigos maliciosos).
    - **Nenhuma técnica impede completamente** a engenharia reversa; elas apenas dificultam o processo.
    - A **tabela de símbolos** (nomes de variáveis, funções) em um código executável **facilita** a engenharia reversa.
- **Ferramentas de Engenharia Reversa:**
    - **Descompiladores:** Traduzem código executável para **linguagem de alto nível** (e.g., C).
    - **Desmontadores (Disassemblers):** Traduzem código executável para **linguagem assembly** (mnemônicos).
    - **Depuradores (Debuggers):** Permitem analisar o **comportamento de um programa em tempo de execução** (análise dinâmica). Permitem execução "passo a passo" com _breakpoints_.
        - Depuradores de "modo-kernel" são mais complexos e podem desestabilizar o sistema. Depuradores de "modo-usuário" monitoram processos simultaneamente.
    - **Process Explorer:** Mostra processos ativos e DLLs carregadas.
- **Ofuscação de Código:**
    - Técnica antiforense usada para **dificultar a engenharia reversa e a análise de _malware_**.
    - Ações incluem esconder, mascarar, enganar e obstruir.
    - Técnicas: **alterar nomes de variáveis/classes/funções** para nomes sem sentido, **adicionar código nulo/redundante**, usar nomes confusos em tabelas de bancos de dados.
    - Geralmente **prejudica o desempenho** do _software_ (torna-o maior e mais lento).
- **Compactação de Executáveis (_Packing_):**
    - Comprime o código de um _malware_ para dificultar sua detecção e análise.
    - Pode ser combinada com criptografia.
    - Desvantagens: execução mais lenta, aumento do tamanho de armazenamento.
- **Formato PE (Portable Executable) - Windows:**
    - Contém seções como `.text` (instruções executáveis), `.rdata` (importação/exportação), `.data` (dados globais), `.rsrc` (recursos).

### **Fonte 13: "curso-230995-aula-12-6628-completo.pdf"**

- **Análise de Pornografia Infantojuvenil:**
    - Foco nos artigos **241, 241-A, 241-B, 241-C e 241-D do Estatuto da Criança e do Adolescente (ECA)**.
    - É um crime que pode ser caracterizado simplesmente pela **posse, aquisição ou armazenamento** do material.
    - **Detecção de Conteúdo e Compartilhamento:**
        - Uso de **hashes** de arquivos conhecidos de pornografia infantojuvenil (bases mundiais e locais).
        - Verificação de nomes de arquivos com **palavras-chave e expressões típicas**.
        - Análise de **compartilhamento** via e-mail, _chat_, pastas compartilhadas ou **redes P2P** (e.g., uTorrent, BitTorrent), identificando arquivos de configuração.
- **Laudo Pericial:**
    - É o **documento que relata os resultados da perícia**, descrevendo a metodologia, procedimentos aplicados e justificando as conclusões.
    - O perito **não julga**, apenas observa, processa dados e relata o que foi encontrado.
    - **Características de Qualidade:** Clareza, fidelidade (veracidade), totalidade (apresentar todos os dados encontrados), e ilustrações (fotografias, gráficos).
    - **Prazos (CPP Art. 160):** Deve ser elaborado em **até 10 dias**, podendo ser prorrogado mediante requerimento.
    - **Divergência entre Peritos (CPP Art. 180):** Declarações e respostas divergentes devem ser consignadas no auto, ou cada perito redige laudo separado.
    - **Poder do Juiz (CPP Art. 182):** O **juiz não fica adstrito ao laudo**, podendo aceitá-lo ou rejeitá-lo (total ou parcialmente), mesmo que esteja tecnicamente correto.
    - **Itens Sugeridos em um Laudo:**
        - **Introdução:** Identificação do Laudo, solicitante, caso investigado, data de atendimento e **descrição detalhada do material recebido**.
        - **Resumo do Incidente / Objetivo da Perícia:** Relato do que se busca na investigação.
        - **Metodologia:** Descrição dos procedimentos (e.g., duplicação forense, filtros, _softwares_ usados), e como a **integridade** (hashing) foi garantida.
        - **Descrição / Resultados:** Relação das evidências encontradas (arquivos, trechos de texto em áreas não alocadas, informações extraídas de arquivos).
        - **Conclusão / Resposta aos Quesitos:** Baseada nas evidências, de forma imparcial.
        - **Considerações Finais:** Inclui glossário, discussão do cenário (sem opiniões), material devolvido, mídias anexas, armazenamento da cópia e identificação dos peritos (relator, revisor).
        - **Anexos:** Mídias com evidências digitais (DVD-R) e fotografias. A **integridade dos dados no anexo digital deve ser garantida por hash** (SHA-512), com um "arquivo de hashes" e o "hash dos hashes" impresso no laudo.
- **Outros Documentos Emitidos por Peritos:**
    - **Parecer Técnico:** Documento formal com **opinião** de um especialista sobre determinada área.
    - **Relatório Técnico:** Documento mais simples, relata apenas o que foi constatado, **sem exame ou perícia**.

### **Fonte 14: "curso-230995-aula-13-da90-completo.pdf"**

- **Antiforense Digital:**
    - Técnicas usadas para **dificultar o trabalho do perito** e/ou **garantir a confidencialidade dos dados**.
- **Categorias de Ações Antiforenses (segundo Harris, adaptado):**
    - **Eliminação da Fonte:** Desabilitar logs (e.g., Skype) para que informações não sejam geradas.
    - **Falsificação:** Criar ou alterar dados para incriminar outros (sequestro de conta/sessão) ou confundir peritos (alterações MACE, arquivos autodestrutivos).
        - **Alterações MACE (Modification, Access, Create, Entry Modifying):** Reescrever com dados aleatórios.
        - **Adulteração de Cabeçalhos/Assinaturas:** Modificar o cabeçalho (_magic number_) de um arquivo para enganar sobre seu tipo.
    - **Destruição:**
        - **Exclusão/Esterilização de Arquivos (_Wipe_):** Sobrescrever o conteúdo com dados aleatórios (destruição **lógica**, não física).
        - **Destruição Física:** Destruir fisicamente a mídia de armazenamento.
    - **Ocultação:**
        - **Encapsulamento de Dados:** Ocultar um arquivo dentro de outro, ou em partições ocultas.
        - **HPA (Host Protected Area):** Uma área oculta no HD não visível pelo sistema operacional.
        - **Slackering/HDDS (Host Protected Data Storage):** Esconder dados no _slack space_ (espaço não utilizado de um _cluster_).
        - **Esteganografia:** Ocultar a **existência de uma mensagem dentro de outro meio** (e.g., arquivos de imagem, áudio) sem que a alteração seja visualmente percebida. Arquivos esteganografados geralmente têm o mesmo tamanho e poucas diferenças nos _MAC times_ em relação ao original. A detecção pode ser feita por editor hexadecimal ou comparação de _hashes_.
    - **Proteção:**
        - **Criptografia:** Processo de tradução de dados legíveis em ilegíveis (cifragem), exigindo uma chave para decifragem. Garante **confidencialidade e integridade**.
            - **Princípios Fundamentais (Tanenbaum):** **Redundância** (informação redundante para dificultar adivinhação) e **Atualidade** (verificar se a mensagem é recente).
            - **Tipos:** **Simétrica** (chave única para cifrar/decifrar) e **Assimétrica** (par de chaves pública/privada). A criptografia assimétrica é mais lenta que a simétrica para grandes volumes de dados.
- **Ofuscação de Código:**
    - Técnica para **tornar o código mais difícil de ser lido e compreendido**, mas mantendo a funcionalidade.
    - Ações incluem: alterar nomes de variáveis/classes/funções para nomes sem sentido, adicionar código nulo ou redundante, usar nomes confusos em tabelas.
    - Geralmente **prejudica o desempenho** do _software_.
- **Subversão de Ferramentas:**
    - Descobrir **vulnerabilidades** em ferramentas forenses e implementar _exploits_ para **alterar os resultados**. O banco de dados **CVE (Common Vulnerabilities and Exposures)** lista vulnerabilidades conhecidas.

Espero que este checklist detalhado seja muito útil para seus estudos!